<!DOCTYPE>
<html>
    <head></head>

<!-- Assignment 1 -->
    <script>
        function delayedResult(n1, n2, delayTime, callback){
                const Num = n1 + n2;
                window.setTimeout( () => { callback(Num) }, delayTime );
            };

        delayedResult(4, 5, 3000, function(result){
            console.log(result);
        }); // 9 (4+5) will be shown in the console after 3 seconds

        delayedResult(-5, 10, 2000, function(result){
            window.alert(result);
        }); // 5 (-5+10) will be shown in an alert dialog after 2 seconds

    </script>


<!-- Assignment 2 -->
    <script>   // *四個步驟
        function ajax(src, callback){
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    let response = JSON.parse(xhr.responseText);
                    callback(response)
                }
            };
            xhr.open('GET', src);
            xhr.send();
        };

        function render(data){
            for (var i=0; i < data.length; i++) {
                var para1 = document.createElement("P");   
                var para2 = document.createElement("P"); 
                var para3 = document.createElement("P");
                para1.textContent = data[i]['name'];
                para2.textContent = data[i]['price'];
                para3.textContent = data[i]['description'];
            
                document.body.appendChild(para1); 
                document.body.appendChild(para2); 
                document.body.appendChild(para3); 

            }
        };

        ajax("https://cwpeng.github.io/live-records-samples/data/products.json", function(response){
            render(response);
        }); // you should get product information in JSON format and render data in the page    

    </script>
    <body>

    </body>



</html>